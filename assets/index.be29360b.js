import{d as f,a as E,g as S,h as k,C as T,n as $,D as w,i as o,E as b,F as i,v as D,s as x,G as C}from"./vendor.14635afb.js";import{r as N}from"./index.91aeff2b.js";const G=f({__name:"index",props:{className:{type:String,default:"icon"},width:{type:Number,default:25},height:{type:Number,default:25},size:{type:Number}},setup(e){return(s,a)=>(E(),S("div",{alt:"",class:T(e.className+" system-icon"),style:$(`width: ${e.size||e.width}px; height: ${e.size||e.height}px`)},[k(s.$slots,"default")],6))}});const m="token",_=w("user",()=>{const e=o("user"),s=o("123456789"),a=o(null),n=o("");return{username:e,password:s,user:a,token:n,setToken:d=>{n.value=d,localStorage.setItem(m,d)},getToken:()=>n.value||localStorage.getItem(m)}}),h=b.create({baseURL:"http://127.0.0.1:3000/api/v1",timeout:2e3,withCredentials:!0});h.interceptors.request.use(e=>e);h.interceptors.response.use(e=>Promise.resolve(e),e=>{const s=e.response.status,a=_();switch(s){case 401:case 403:N.push("/"),a.user=null,a.setToken("Invalid token");break}return Promise.reject(e)});const z=["get","post","delete","patch","put"],v=e=>Promise.resolve(null);z.forEach(e=>{v[e]=(s,a,n)=>v({method:e,url:s,data:a,...n})});const F=["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],y=()=>i(new Date),t=e=>e<10?"0"+e:String(e),p=e=>`\u661F\u671F${F[e]}`,M=(e,s,a="day")=>i(e).diff(s,a),O=(e=i())=>`${e.year()}-${t(e.month()+1)}-${t(e.date())}`,g=[];setInterval(()=>{g.forEach(e=>e())},24*60*60*1e3);const Y=e=>{g.push(e)},r=y(),I=D({hour:t(r.hour()),minute:t(r.minute()),second:t(r.second()),year:String(r.year()),month:t(r.month()+1),date:t(r.date()),day:p(r.day()),lunar:"\u4E00\u6708\u521D\u4E00"}),{hour:U,minute:q,month:u,date:l,day:B,year:c,second:P,lunar:R}=x(I);setInterval(()=>{const e=y();U.value=t(e.hour()),q.value=t(e.minute()),c.value=String(e.year()),u.value=t(e.month()+1),l.value=t(e.date()),B.value=p(e.day()),P.value=t(e.second()),R.value=C.getLunar(c.value,u.value,l.value).dateStr},1e3);const Z=e=>t(e.date())===l.value&&t(e.month()+1)===u.value&&String(e.year())===c.value,H=`${c.value}-${u.value}-${l.value}`;export{G as _,u as a,B as b,P as c,l as d,M as e,O as g,U as h,Z as i,R as l,q as m,t as p,v as r,Y as s,H as t,_ as u,c as y};
