import{c as I}from"./index.vue_vue_type_style_index_0_lang-c766786a.js";import{R as B}from"./index-f89d858b.js";import{_ as w,u as N}from"./index-2f1530c1.js";import{a,m as o,n as z,d as b,g as $,U as F,V as j,J as L,q as n,v as C,u as m,N as u,O as x,s as R,w as S,x as U,Q as O,L as W,aa as M,j as T,B as h,_ as q,C as V,F as A}from"./vendor-cfe435e2.js";import{U as D}from"./upload-file-281e1e53.js";const E=""+new URL("preview-default-a9153e88.png",import.meta.url).href;const J={},Q={class:"button"};function G(s,_){return a(),o("div",Q,[z(s.$slots,"default",{},void 0,!0)])}const H=w(J,[["render",G],["__scopeId","data-v-d25bfd69"]]),K=s=>(S("data-v-00943398"),s=s(),U(),s),P={class:"select__content"},X=K(()=>n("span",{class:"iconfont icon-xiangxia"},null,-1)),Y=["onClick"],Z=b({__name:"select",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(s,{emit:_}){const v=c=>{_("update:modelValue",c.value),l.value=!1},l=$(!1),f=F(),d=j(f,()=>{l.value=!1});return L(()=>{d==null||d()}),(c,g)=>(a(),o("div",{class:"select",onClick:g[0]||(g[0]=r=>l.value=!m(l))},[n("span",P,C(c.modelValue),1),X,m(l)?(a(),o("div",{key:0,class:"option-list",ref_key:"listRef",ref:f},[(a(!0),o(u,null,x(c.options,r=>(a(),o("div",{class:O(["option-item",{active:r.value===c.modelValue}]),onClick:W(e=>v(r),["stop"])},C(r.label),11,Y))),256))],512)):R("",!0)]))}});const ee=w(Z,[["__scopeId","data-v-00943398"]]),k=s=>(S("data-v-1f179155"),s=s(),U(),s),se={class:"preview"},te=["src"],ae=k(()=>n("img",{class:"default-img",src:E,alt:""},null,-1)),oe=k(()=>n("div",{class:"item-title"},"背景",-1)),le=k(()=>n("div",{class:"item-title"},"选择图片",-1)),ne={class:"wallpaper-list"},ie=["onClick"],ce=["src"],re={key:1,class:"item-title"},de=b({__name:"personalization-background",setup(s){const _=N(),v=M(_,"user"),l=$("图片"),f=[{label:"图片",value:"图片"},{label:"纯色",value:"纯色"}],d=T([]);(async()=>{var t;const e=await B();(t=e==null?void 0:e.data)!=null&&t.wallpapers&&d.push(...e.data.wallpapers)})();const c=async e=>{await r(e)},g=async e=>{await r(e)},r=async e=>{var i;const t=await I({wallpaper:e}),p=(i=t==null?void 0:t.data)==null?void 0:i.user;p&&_.setUser(p)};return(e,t)=>{var p;return a(),o(u,null,[n("div",se,[n("img",{class:"preview-img",src:(p=v.value)==null?void 0:p.wallpaper,alt:""},null,8,te),ae]),oe,h(ee,{modelValue:m(l),"onUpdate:modelValue":t[0]||(t[0]=i=>q(l)?l.value=i:null),options:f},null,8,["modelValue"]),m(l)==="图片"?(a(),o(u,{key:0},[le,n("div",ne,[(a(!0),o(u,null,x(m(d),i=>{var y;return a(),o(u,null,[i!==((y=v.value)==null?void 0:y.wallpaper)?(a(),o("div",{key:0,class:"wallpaper-item",onClick:_e=>c(i)},[n("img",{src:i,alt:"",class:"wallpaper-img"},null,8,ce)],8,ie)):R("",!0)],64)}),256))]),h(D,{onChange:g,accept:".png,.jpg,jpeg,svg"},{default:V(()=>[h(H,{onClick:t[1]||(t[1]=()=>{})},{default:V(()=>[A("浏览")]),_:1})]),_:1})],64)):(a(),o("div",re,"选择你的背景色"))],64)}}});const ge=w(de,[["__scopeId","data-v-1f179155"]]);export{ge as default};
