var xe=Object.defineProperty;var be=(t,n,e)=>n in t?xe(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var f=(t,n,e)=>(be(t,typeof n!="symbol"?n+"":n,e),e);import{d as K,o as Fe,r as Be,c as De,a as b,b as Ce,e as Te,n as _,f as g,w as ke,g as Oe,h as Ie,i as U,j as z,t as Me,l as Le,k as $e,m as D,p as Pe,q as L,s as le,u as Re,v as Q,x as Se,y as Ae,z as Ke,A as Ue}from"./vendor.ccd09b18.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}})();const ze="modulepreload",Ne=function(t,n){return new URL(t,n).href},Z={},Y=function(n,e,s){if(!e||e.length===0)return n();const o=document.getElementsByTagName("link");return Promise.all(e.map(r=>{if(r=Ne(r,s),r in Z)return;Z[r]=!0;const i=r.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!s)for(let d=o.length-1;d>=0;d--){const c=o[d];if(c.href===r&&(!i||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${a}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":ze,i||(u.as="script",u.crossOrigin=""),u.href=r,document.head.appendChild(u),i)return new Promise((d,c)=>{u.addEventListener("load",d),u.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>n())},je=K({__name:"App",setup(t){const n=e=>e.preventDefault();return Fe(()=>{document.addEventListener("selectstart",n),document.addEventListener("contextmenu",n),document.addEventListener("keydown",e=>{e.altKey&&e.keyCode===37&&n(e),e.altKey&&e.keyCode===38&&n(e),e.altKey&&e.keyCode===39&&n(e),e.altKey&&e.keyCode===40&&n(e)})}),(e,s)=>{const o=Be("router-view");return b(),De(o)}}}),C=Ce({history:Te(),routes:[]}),Ve=t=>(C.addRoute({path:"/",component:t.loginComp,name:"Login"}),C.addRoute({path:"/home",component:t.homeComp,name:"Home"}),C);var de=(t=>(t.Admin="admin",t.User="user",t))(de||{}),We=(t=>(t.Admin="\u7BA1\u7406\u5458",t.User="\u7528\u6237",t))(We||{});const qe=""+new URL("user_avatar_default.98817a57.png",import.meta.url).href,He=""+new URL("wallpaper_default.86032ef7.jpg",import.meta.url).href,Ge=(t,n)=>e=>{e.directive(n,t)},Qe="drag",Ze={async mounted(t,n){await _();const e=n.value?Ye(t,n.value.tar):t;if(!e)throw new Error("Unable to find the target node of draggable!");const s=o=>{var c,v;(v=(c=n.value)==null?void 0:c.onMousedownCb)==null||v.call(c,e);const r={x:o.pageX,y:o.pageY},i=window.getComputedStyle(e,null),a={left:parseFloat(i.left),top:parseFloat(i.top)},l={x:0,y:0},u=h=>{const x={x:h.pageX,y:h.pageY};l.x=x.x-r.x,l.y=x.y-r.y,e.style.left=a.left+l.x+"px",e.style.top=a.top+l.y+"px"},d=()=>{n.value&&n.value.movedFn&&n.value.movedFn(a.left+l.x,a.top+l.y),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",d)};t.addEventListener("mousedown",s)}},Ye=(t,n)=>{let e=t;for(;!e.classList.contains(n.slice(1));)if(e.parentElement)e=e.parentElement;else return null;return e},Xe=Object.freeze(Object.defineProperty({__proto__:null,name:Qe,directive:Ze},Symbol.toStringTag,{value:"Module"})),Je="infinite-scroll",X="scope",et=(t,n)=>{const e=n.value.load,s=n.value.initTop||50,o=n.value.scrollRate||5,r=n.value.scrollCb||(()=>{}),i=n.value.scrollingCb||(()=>{}),a=50,l=s<a?a:s;return{fn:e,initTop:l,rate:o,scrollCb:r,scrollingCb:i}},tt={async mounted(t,n){await _();const{fn:e,initTop:s,rate:o,scrollCb:r,scrollingCb:i}=et(t,n);t.scrollTop=s;let a=0,l=0,u=g(!1),d;ke(u,()=>{i(u.value)});const c=async v=>{if(u.value=!0,d&&clearTimeout(d),d=setTimeout(()=>{u.value=!1},200),t.clientHeight+t.scrollTop>=t.scrollHeight){for(let h=0;h<o;h++)e("down");await _()}if(t.scrollTop<=10){for(let h=0;h<o;h++)e("up"),l+=s;await _(),t.scrollTop=o*s}a=t.scrollTop-s-l,r(a<0?Math.ceil(a):Math.floor(a))};t[X]={onScroll:c},t.addEventListener("scroll",c)},unmounted(t){const{onScroll:n}=t[X];t.removeEventListener("scroll",n)}},nt=Object.freeze(Object.defineProperty({__proto__:null,name:Je,directive:tt},Symbol.toStringTag,{value:"Module"})),st="resize",me=Symbol("RESIZED_EL_SCOPE"),ot={async mounted(t,{value:n}){await _(),w.push(t),t[me]={onMousedownCb:n==null?void 0:n.onMousedownCb},w.length===1&&(document.addEventListener("mousemove",J),document.addEventListener("mousedown",ee,!0));const e=n&&n.movedFn||(()=>{}),s=n&&n.movingFn||(()=>{}),o=n&&n.onMousedownCb||(()=>{}),r=n&&n.border||{minWidth:0,minHeight:0};t.style.position="absolute",at({el:t,border:r,movedFn:e,movingFn:s,onMousedownCb:o})},unmounted(t){dt(t),w.length||(document.removeEventListener("mousemove",J),document.removeEventListener("mousedown",ee,!0))}},w=[],rt=4;let pe,$=!1;const J=async t=>{if(await _(),$)return;let n="";const e=document.body;w.some(s=>(pe=s,n=ct({el:s,event:t,regionSize:rt}),e.style.cursor=n?`${n}-resize`:"default",n))},ee=async t=>{var q,H;await _();const n=pe,e=document.body,s=t.pageX,o=t.pageY,r=e.style.cursor==="default"?"":e.style.cursor.split("-")[0],i=window.getComputedStyle(n,null),a=parseFloat(i.left),l=parseFloat(i.top),u=parseFloat(i.width),d=parseFloat(i.height),c=it(n);let v=0,h=0;r&&((H=(q=n[me]).onMousedownCb)==null||H.call(q,n),ut(t));const x=G=>{v=G.pageX-s,h=G.pageY-o,lt({el:n,resizeDir:r,width:u,height:d,left:a,top:l,offsetX:v,offsetY:h,minWidth:c.border.minWidth,minHeight:c.border.minHeight,movingFn:c.movingFn}),$=!0},W=()=>{document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",W),c.movedFn({width:parseInt(n.style.width),height:parseInt(n.style.height),left:parseInt(n.style.left),top:parseInt(n.style.top)}),$=!1};document.addEventListener("mousemove",x),document.addEventListener("mouseup",W)},P=[],at=t=>{P.push(t)},it=t=>{const n=P.findIndex(e=>e.el===t);return P[n]},ut=t=>{t.stopPropagation()},ct=({el:t,event:n,regionSize:e})=>{const s=window.getComputedStyle(t,null),o=parseFloat(s.width),r=parseFloat(s.height),i=n.pageX-parseFloat(s.left),a=n.pageY-parseFloat(s.top),u=[{dir:"n",cond:a<e&&a>-e&&i>e&&i<o-e},{dir:"s",cond:a>r-e&&a<r+e&&i>e&&i<o-e},{dir:"w",cond:i<e&&i>-e&&a>e&&a<r-e},{dir:"e",cond:i>o-e&&i<o+e&&a>e&&a<r-e},{dir:"nw",cond:a<e&&a>-e&&i<e&&i>-e},{dir:"ne",cond:a<e&&a>-e&&i>o-e&&i<o+e},{dir:"sw",cond:a>r-e&&a<r+e&&i<e&&i>-e},{dir:"se",cond:a>r-e&&a<r+e&&i>o-e&&i<o+e}].find(d=>d.cond);return u?u.dir:""},lt=({el:t,resizeDir:n,width:e,height:s,left:o,top:r,offsetX:i,offsetY:a,movingFn:l,minWidth:u=0,minHeight:d=0})=>{const c=new Map;if(c.set("n",()=>{B(s-a,d,()=>{t.style.top=r+a+"px",t.style.height=s-a+"px"})}),c.set("s",()=>{B(s+a,d,()=>{t.style.height=s+a+"px"})}),c.set("w",()=>{B(e-i,u,()=>{t.style.left=o+i+"px",t.style.width=e-i+"px"})}),c.set("e",()=>{B(e+i,u,()=>{t.style.width=e+i+"px"})}),n.length===1)c.get(n)();else if(n.length===2)for(let v of n)c.get(v)();l&&l({width:parseInt(t.style.width),height:parseInt(t.style.height),top:parseInt(t.style.top),left:parseInt(t.style.left)})},B=(t,n,e)=>{t>=n&&e()},dt=t=>{const n=w.indexOf(t);n>-1&&w.splice(n,1)},mt=Object.freeze(Object.defineProperty({__proto__:null,name:st,directive:ot},Symbol.toStringTag,{value:"Module"})),te=Object.assign({"./drag.ts":Xe,"./infinite-scroll.ts":nt,"./resize.ts":mt}),pt=t=>{for(const n in te){const e=te[n];Ge(e.directive,e.name)(t)}},ne=t=>{const n={VITE_PORT:"8000",VITE_BACKEND_ROOT:"http://localhost:3000",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0};return n.MODE==="development"?n.VITE_BACKEND_ROOT+t:t},se="token",ht=Oe("user",()=>{const t=g("user"),n=g("123456789"),e=g(null),s=g("");return{username:t,password:n,user:e,token:s,setToken:a=>{s.value=a,localStorage.setItem(se,a)},getToken:()=>s.value||localStorage.getItem(se),setUser:a=>{a?e.value={...a,avatar:ne(a.avatar),wallpaper:ne(a.wallpaper)}:e.value=ft}}}),ft={_id:String(Math.random()),username:"user",avatar:qe,email:"user@qq.com",role:de.User,wallpaper:He},he=Ie.create({baseURL:"http://127.0.0.1:3000/api/v1",timeout:2e3,withCredentials:!0});he.interceptors.request.use(t=>t);he.interceptors.response.use(t=>Promise.resolve(t),t=>{const n=t.response.status,e=ht();switch(n){case 401:case 403:C.push("/"),e.user=null,e.setToken("Invalid token");break}return Promise.reject(t)});const vt=["get","post","delete","patch","put"],oe=t=>Promise.resolve(null);vt.forEach(t=>{oe[t]=(n,e,s)=>oe({method:t,url:n,data:e,...s})});const yt=["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],fe=()=>U(new Date),m=t=>t<10?"0"+t:String(t),ve=t=>`\u661F\u671F${yt[t]}`,jt=(t,n,e="day")=>U(t).diff(n,e),Vt=(t=U())=>`${t.year()}-${m(t.month()+1)}-${m(t.date())}`,ye=[];setInterval(()=>{ye.forEach(t=>t())},24*60*60*1e3);const Wt=t=>{ye.push(t)},y=fe(),_t=z({hour:m(y.hour()),minute:m(y.minute()),second:m(y.second()),year:String(y.year()),month:m(y.month()+1),date:m(y.date()),day:ve(y.day()),lunar:"\u4E00\u6708\u521D\u4E00"}),{hour:N,minute:j,month:T,date:k,day:Et,year:O,second:gt,lunar:wt}=Me(_t);setInterval(()=>{const t=fe();N.value=m(t.hour()),j.value=m(t.minute()),O.value=String(t.year()),T.value=m(t.month()+1),k.value=m(t.date()),Et.value=ve(t.day()),gt.value=m(t.second()),wt.value=Le.getLunar(O.value,T.value,k.value).dateStr},1e3);const qt=t=>m(t.date())===k.value&&m(t.month()+1)===T.value&&String(t.year())===O.value,_e=`${O.value}-${T.value}-${k.value}`,xt=["mp4","mp3","html","txt","js","ts","css",""];class E{constructor(n){f(this,"name");f(this,"extension");f(this,"size");f(this,"createdAt");const{name:e,extension:s,size:o,createdAt:r}=n;this.name=e,this.extension=s,this.size=o||"0KB",this.createdAt=r||`${_e} ${N.value}:${j.value}`}setName(n){this.name=n}get fullName(){return`${this.name}${this.extension?`.${this.extension}`:""}`}set fullName(n){const e=n.split(".")[0],s=n.split(".")[1]||"";if(xt.includes(s))this.extension=s,this.name=e;else throw new Error(`\u65E0\u6CD5\u8BBE\u7F6E .${s} \u7684\u540E\u7F00\u540D`)}}class p{constructor(n,e){f(this,"name");f(this,"size","0KB");f(this,"children",[]);f(this,"parent");f(this,"createdAt");const{name:s,children:o,createdAt:r}=n;this.name=s,this.parent=e,this.createdAt=r||`${_e} ${N.value}:${j.value}`,this.initChildren(o),this.initSize()}initChildren(n){n.forEach(e=>{e.extension?this.children.push(new E(e)):this.children.push(new p(e,this))})}initSize(){this.size=bt(this.children.reduce((n,e)=>Ee(n,e.size),"0KB"))}addFolder(n="\u65B0\u5EFA\u6587\u4EF6\u5939"){const e=s=>{let o=s;for(;ae(this.children,o);)o=ie(o);return o};return n instanceof p?re(this,n.size)?"\u8D85\u51FA\u5F53\u524D\u78C1\u76D8\u5185\u5B58":(n.name=e(n.name),this.children.push(n),n.name):(n=e(n),this.children.push(new p({name:n,children:[]},this)),n)}addFile(n,e="0KB"){if(re(this,e))return"\u8D85\u51FA\u5F53\u524D\u78C1\u76D8\u5185\u5B58";const s=o=>(ae(this.children,o)&&(o=ie(o)),o);if(n instanceof E)n.name=s(n.name),this.children.push(n);else{const o=new E({name:"",extension:"",size:e});o.fullName=n,o.name=s(o.name),this.children.push(o)}}removeFolder(n){let e=-1;n instanceof p?e=this.children.findIndex(s=>s===n):e=this.children.findIndex(s=>{if(s instanceof p)return s.name===n}),e>-1&&this.children.splice(e,1)}removeFile(n){let e=-1;n instanceof E?e=this.children.findIndex(s=>s===n):e=this.children.findIndex(s=>{if(s instanceof E)return s.name===n}),e>-1&&this.children.splice(e,1)}hasParentFolder(n){let e=this;for(;e;){if(e===n)return!0;e=e.parent}return!1}get path(){return`${this.parent.path}${this.name}\\`}static search(n){const e=[],s=o=>{for(const r of o)r.name.toLowerCase().match(n.toLowerCase())&&e.push(r),Ft(r)||s(r.children)};return s(ue),e}static findByPath(n){const e=n.split("\\").filter(a=>a),s=ue.find(a=>a.name.match(/[A-Z]:/)[0]===e[0]),o=new Set([]);if(!s)return null;let r=1,i=s;for(;r<e.length;){o.add(i);const a=i.children.find(l=>o.has(i)?l.name===e[r]:!1);if(a)i=a,r++;else return null}return i}}const re=(t,n)=>{let e=t;for(;e.parent;)e=e.parent;return I(Ee(e.size,n))>I(e.memory)};class V extends p{constructor(e){const{name:s,memory:o,children:r}=e;super({name:s,children:r},null);f(this,"memory");this.memory=o}get path(){return`${this.name.match(/[A-Z]:/)[0]}\\\\`}}const R=["B","KB","MB","GB","TB"],S=1024,Ee=(t,n)=>I(t)+I(n)+"B",bt=t=>{const n=ge(t);let e=n.size,s=R.indexOf(n.unit);for(;e>=S;)e/=S,s++;return e+R[s]};function ge(t){const n={size:0,unit:""};return n.size=parseFloat(t),n.unit=t.match(/[a-z|A-Z]+/gi)[0].toUpperCase(),n}function I(t){const n=ge(t),e=R.indexOf(n.unit);return n.size*Math.pow(S,e)}const ae=(t,n)=>t.findIndex(e=>e.name===n)>-1,ie=t=>`${t} - \u526F\u672C`,Ft=t=>t instanceof E,Ht=t=>t instanceof p,Bt=[{name:"Windows (C:)",memory:"16GB",children:[{name:"Adobe",children:[]},{name:"Office",children:[]},{name:"Users",children:[]},{name:"DeskTop",children:[{name:"Video",posIdx:11,children:[{name:"QQ Video",children:[{name:"\u5468\u6770\u4F26\u7684\u4E13\u8F91",children:[{extension:"mp4",name:"\u9752\u82B1\u74F7",size:"50KB"},{extension:"mp4",name:"\u4E00\u8DEF\u5411\u5317",size:"56KB"}]},{name:"\u6570\u5B57\u5531\u7247",children:[{name:"bin",children:[]},{name:"pacakges",children:[{name:"pg-1",children:[]},{name:"pg-2",children:[]}]}]}]},{name:"Cloud Video",children:[{name:"\u5468\u6770\u4F26\u7684\u4E13\u8F91",children:[{extension:"mp4",name:"\u9752\u82B1\u74F7",size:"56KB"},{extension:"mp4",name:"\u4E00\u8DEF\u5411\u5317",size:"56KB"}]}]},{extension:"mp4",name:"\u9752\u82B1\u74F7",size:"50KB"}]},{name:"Music",posIdx:10,children:[{name:"QQ Music",children:[{name:"\u5468\u6770\u4F26\u7684\u4E13\u8F91",children:[{extension:"mp4",name:"\u9752\u82B1\u74F7",size:"50KB"},{extension:"mp4",name:"\u4E00\u8DEF\u5411\u5317",size:"56KB"}]}]},{name:"Cloud Music",children:[{name:"\u5468\u6770\u4F26\u7684\u4E13\u8F91",children:[{extension:"mp4",name:"\u9752\u82B1\u74F7",size:"56KB"},{extension:"mp4",name:"\u4E00\u8DEF\u5411\u5317",size:"56KB"}]}]}]}]},{extension:"html",name:"index",size:"11KB"}]},{name:"Data (D:)",memory:"160GB",children:[{name:"Music",children:[{name:"QQ Music",children:[{name:"\u5468\u6770\u4F26\u7684\u4E13\u8F91",children:[{extension:"mp4",name:"\u9752\u82B1\u74F7",size:"100GB"},{extension:"mp4",name:"\u4E00\u8DEF\u5411\u5317",size:"56KB"}]}]},{name:"Cloud Music",children:[{name:"\u5468\u6770\u4F26\u7684\u4E13\u8F91",children:[{extension:"mp4",name:"\u9752\u82B1\u74F7",size:"56KB"},{extension:"mp4",name:"\u4E00\u8DEF\u5411\u5317",size:"56KB"}]}]}]},{extension:"html",name:"index",size:"20KB"}]}],M=z([]);setTimeout(()=>{const t=p.search("desktop")[0];M.push(t);const n=p.findByPath("C:\\");M.push(n);const e=p.findByPath("D:\\");M.push(e)});const ue=z(Bt.map(t=>new V(t))),Dt=V.search("DeskTop")[0];Dt.addFolder();V.search("DeskTop");const Gt=()=>p.search("desktop")[0],Ct=$e();const Tt={name:"WinBtn"},kt=K({...Tt,props:{borderStyle:{type:String,default:"none"},bgColor:{type:String,default:"#edeaea4d"},opacity:{type:String,default:"1"},width:{type:Number,default:0},height:{type:Number,default:0},color:{type:String,default:"#fff"}},setup(t){const{borderStyle:n,bgColor:e,opacity:s,width:o,height:r,color:i}=t,a=()=>({border:n,backgroundColor:e,opacity:s,width:o?o+"px":"auto",height:r?r+"px":"auto",color:i});return(l,u)=>(b(),D("button",{class:"btn",style:L(a())},[Pe(l.$slots,"default",{},void 0,!0)],4))}});const we=(t,n)=>{const e=t.__vccOpts||t;for(const[s,o]of n)e[s]=o;return e},Ot=we(kt,[["__scopeId","data-v-7d855f7d"]]),It=Object.freeze(Object.defineProperty({__proto__:null,default:Ot},Symbol.toStringTag,{value:"Module"})),Mt=t=>(Ae("data-v-5758b5ee"),t=t(),Ke(),t),Lt=Mt(()=>le("input",{type:"checkbox",name:"check",class:"radio-original"},null,-1)),$t={key:0,class:"radio-label"},Pt={name:"WinRadio"},Rt=K({...Pt,props:{modelValue:{type:Boolean,required:!0},label:{type:String},size:{type:Number,default:18}},emits:["update:modelValue"],setup(t,{emit:n}){const s=g(t.modelValue),o=()=>{s.value=!s.value,n("update:modelValue",s.value)};return(r,i)=>(b(),D("div",{class:"win-radio-wrapper",onClick:o},[Lt,le("span",{class:"radio-inner",style:L({width:t.size+"px",height:t.size+"px"})},[Re(s)?(b(),D("i",{key:0,class:"iconfont icon-duigou",style:L({fontSize:t.size+"px"})},null,4)):Q("",!0)],4),t.label?(b(),D("span",$t,Se(t.label),1)):Q("",!0)]))}});const St=we(Rt,[["__scopeId","data-v-5758b5ee"]]),At=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:"Module"})),ce=Object.assign({"./WinBtn/index.vue":It,"./WinRadio/index.vue":At}),A=[];for(const t in ce)A.push(ce[t].default);const Kt={install(t,n){n&&n.components?n.components.forEach(e=>{A.forEach(s=>{e===s.name&&t.component(s.name,s)})}):A.forEach(e=>{t.component(e.name,e)})}},F=Ue(je),Ut=Ve({loginComp:()=>Y(()=>import("./index.2d5571b5.js"),["./index.2d5571b5.js","./index.vue_vue_type_style_index_0_lang.d75c30fc.js","./vendor.ccd09b18.js","./index.70bf3afb.css","./index.0b189d35.css"],import.meta.url),homeComp:()=>Y(()=>import("./index.c57a74a8.js").then(t=>t.i),["./index.c57a74a8.js","./vendor.ccd09b18.js","./index.vue_vue_type_style_index_0_lang.d75c30fc.js","./index.70bf3afb.css","./index.71b05ebf.css"],import.meta.url)});F.use(Ut);F.use(Ct);F.use(Kt);pt(F);F.mount("#app");export{p as F,M as O,de as R,we as _,T as a,Et as b,oe as c,k as d,Ht as e,Ft as f,Gt as g,N as h,pt as i,Dt as j,Y as k,gt as l,j as m,wt as n,qt as o,m as p,Vt as q,C as r,Wt as s,_e as t,ht as u,jt as v,We as w,O as y};
