import{c as B}from"./index.vue_vue_type_style_index_0_lang.94977c80.js";import{c as U,_ as h,u as z}from"./index.a767a357.js";import{a as l,m as o,n as $,d as k,g as I,a7 as V,Z as N,K as W,q as i,v as F,u as g,O as v,P as x,G as j,M as A,s as E,w as R,x as S,a8 as M,j as O,B as C,X as q,C as b,F as D}from"./vendor.c764e040.js";const L=()=>U.get("/resources/wallpapers"),T=""+new URL("preview-default.a9153e88.png",import.meta.url).href;const G={},K={class:"button"};function P(s,d){return l(),o("div",K,[$(s.$slots,"default",{},void 0,!0)])}const X=h(G,[["render",P],["__scopeId","data-v-d25bfd69"]]),Z=s=>(R("data-v-3386dd90"),s=s(),S(),s),H={class:"select__content"},J=Z(()=>i("span",{class:"iconfont icon-xiangxia"},null,-1)),Q=["onClick"],Y=k({__name:"select",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(s,{emit:d}){const u=n=>{d("update:modelValue",n.value),t.value=!1},t=I(!1),f=V(),e=N(f,()=>{t.value=!1});return W(()=>{e==null||e()}),(n,r)=>(l(),o("div",{class:"select",onClick:r[0]||(r[0]=p=>t.value=!g(t))},[i("span",H,F(n.modelValue),1),J,g(t)?(l(),o("div",{key:0,class:"option-list",ref_key:"listRef",ref:f},[(l(!0),o(v,null,x(n.options,p=>(l(),o("div",{class:j(["option-item",{active:p.value===n.modelValue}]),onClick:A(a=>u(p),["stop"])},F(p.label),11,Q))),256))],512)):E("",!0)]))}});const ee=h(Y,[["__scopeId","data-v-3386dd90"]]),se=k({__name:"upload-file",props:{accept:{}},emits:["change"],setup(s,{emit:d}){const u=V(),t=()=>{var n;const e=u.value;if(e){const r=(n=e.files)==null?void 0:n[0];r&&d("change",r)}},f=()=>{var e;(e=u.value)==null||e.click()};return(e,n)=>(l(),o(v,null,[i("input",{type:"file",ref_key:"fileIptRef",ref:u,style:{display:"none"},onChange:t},null,544),i("div",{class:"upload-file",onClick:f},[$(e.$slots,"default",{},void 0,!0)])],64))}});const te=h(se,[["__scopeId","data-v-73b55c28"]]),y=s=>(R("data-v-97cca758"),s=s(),S(),s),ae={class:"preview"},le=["src"],oe=y(()=>i("img",{class:"default-img",src:T,alt:""},null,-1)),ne=y(()=>i("div",{class:"item-title"},"\u80CC\u666F",-1)),ce=y(()=>i("div",{class:"item-title"},"\u9009\u62E9\u56FE\u7247",-1)),ie={class:"wallpaper-list"},ue=["onClick"],_e=["src"],de={key:1,class:"item-title"},re=k({__name:"personalization-background",setup(s){const d=z(),u=M(d,"user"),t=I("\u56FE\u7247"),f=[{label:"\u56FE\u7247",value:"\u56FE\u7247"},{label:"\u7EAF\u8272",value:"\u7EAF\u8272"}],e=O([]);(async()=>{var c;const a=await L();(c=a==null?void 0:a.data)!=null&&c.wallpapers&&e.push(...a.data.wallpapers)})();const n=async a=>{await p(a)},r=async a=>{await p(a)},p=async a=>{var _;const c=await B({wallpaper:a}),m=(_=c==null?void 0:c.data)==null?void 0:_.user;m&&d.setUser(m)};return(a,c)=>{var m;return l(),o(v,null,[i("div",ae,[i("img",{class:"preview-img",src:(m=u.value)==null?void 0:m.wallpaper,alt:""},null,8,le),oe]),ne,C(ee,{modelValue:g(t),"onUpdate:modelValue":c[0]||(c[0]=_=>q(t)?t.value=_:null),options:f},null,8,["modelValue"]),g(t)==="\u56FE\u7247"?(l(),o(v,{key:0},[ce,i("div",ie,[(l(!0),o(v,null,x(g(e),_=>{var w;return l(),o(v,null,[_!==((w=u.value)==null?void 0:w.wallpaper)?(l(),o("div",{key:0,class:"wallpaper-item",onClick:pe=>n(_)},[i("img",{src:_,alt:"",class:"wallpaper-img"},null,8,_e)],8,ue)):E("",!0)],64)}),256))]),C(te,{onChange:r,accept:".png,.jpg,jpeg,svg"},{default:b(()=>[C(X,{onClick:c[1]||(c[1]=()=>{})},{default:b(()=>[D("\u6D4F\u89C8")]),_:1})]),_:1})],64)):(l(),o("div",de,"\u9009\u62E9\u4F60\u7684\u80CC\u666F\u8272"))],64)}}});const ge=h(re,[["__scopeId","data-v-97cca758"]]);export{ge as default};
