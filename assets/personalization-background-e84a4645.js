import{c as U}from"./index.vue_vue_type_style_index_0_lang-41677907.js";import{R as B}from"./index-0ef61296.js";import{_ as w,u as z}from"./index-6f18d93b.js";import{a,m as o,n as N,d as V,g as $,y as W,W as j,M as F,q as n,v as C,u as m,P as u,Q as S,s as x,w as I,x as R,S as M,D,ab as L,j as O,G as h,$ as T,H as b,I as q}from"./vendor-7a9ae6d8.js";import{U as A}from"./upload-file-7bc68f47.js";const E=""+new URL("preview-default-a9153e88.png",import.meta.url).href;const G={},H={class:"button"};function P(s,_){return a(),o("div",H,[N(s.$slots,"default",{},void 0,!0)])}const Q=w(G,[["render",P],["__scopeId","data-v-d25bfd69"]]),J=s=>(I("data-v-00943398"),s=s(),R(),s),K={class:"select__content"},X=J(()=>n("span",{class:"iconfont icon-xiangxia"},null,-1)),Y=["onClick"],Z=V({__name:"select",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(s,{emit:_}){const v=c=>{_("update:modelValue",c.value),l.value=!1},l=$(!1),f=W(),d=j(f,()=>{l.value=!1});return F(()=>{d==null||d()}),(c,g)=>(a(),o("div",{class:"select",onClick:g[0]||(g[0]=r=>l.value=!m(l))},[n("span",K,C(c.modelValue),1),X,m(l)?(a(),o("div",{key:0,class:"option-list",ref_key:"listRef",ref:f},[(a(!0),o(u,null,S(c.options,r=>(a(),o("div",{class:M(["option-item",{active:r.value===c.modelValue}]),onClick:D(e=>v(r),["stop"])},C(r.label),11,Y))),256))],512)):x("",!0)]))}});const ee=w(Z,[["__scopeId","data-v-00943398"]]),k=s=>(I("data-v-1f179155"),s=s(),R(),s),se={class:"preview"},te=["src"],ae=k(()=>n("img",{class:"default-img",src:E,alt:""},null,-1)),oe=k(()=>n("div",{class:"item-title"},"背景",-1)),le=k(()=>n("div",{class:"item-title"},"选择图片",-1)),ne={class:"wallpaper-list"},ie=["onClick"],ce=["src"],re={key:1,class:"item-title"},de=V({__name:"personalization-background",setup(s){const _=z(),v=L(_,"user"),l=$("图片"),f=[{label:"图片",value:"图片"},{label:"纯色",value:"纯色"}],d=O([]);(async()=>{var t;const e=await B();(t=e==null?void 0:e.data)!=null&&t.wallpapers&&d.push(...e.data.wallpapers)})();const c=async e=>{await r(e)},g=async e=>{await r(e)},r=async e=>{var i;const t=await U({wallpaper:e}),p=(i=t==null?void 0:t.data)==null?void 0:i.user;p&&_.setUser(p)};return(e,t)=>{var p;return a(),o(u,null,[n("div",se,[n("img",{class:"preview-img",src:(p=v.value)==null?void 0:p.wallpaper,alt:""},null,8,te),ae]),oe,h(ee,{modelValue:m(l),"onUpdate:modelValue":t[0]||(t[0]=i=>T(l)?l.value=i:null),options:f},null,8,["modelValue"]),m(l)==="图片"?(a(),o(u,{key:0},[le,n("div",ne,[(a(!0),o(u,null,S(m(d),i=>{var y;return a(),o(u,null,[i!==((y=v.value)==null?void 0:y.wallpaper)?(a(),o("div",{key:0,class:"wallpaper-item",onClick:_e=>c(i)},[n("img",{src:i,alt:"",class:"wallpaper-img"},null,8,ce)],8,ie)):x("",!0)],64)}),256))]),h(A,{onChange:g,accept:".png,.jpg,jpeg,svg"},{default:b(()=>[h(Q,{onClick:t[1]||(t[1]=()=>{})},{default:b(()=>[q("浏览")]),_:1})]),_:1})],64)):(a(),o("div",re,"选择你的背景色"))],64)}}});const ge=w(de,[["__scopeId","data-v-1f179155"]]);export{ge as default};
