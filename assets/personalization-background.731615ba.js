import{c as I}from"./index.vue_vue_type_style_index_0_lang.18bdfb87.js";import{c as R,_ as w,u as U}from"./index.466654f6.js";import{a,m as o,n as B,d as V,g as b,a8 as z,_ as N,K as j,q as n,v as y,u as m,O as p,P as $,G as A,M,s as E,w as x,x as S,a9 as O,j as W,B as h,X as q,C as F,F as D}from"./vendor.50d91a69.js";import{U as L}from"./upload-file.b90af4ee.js";const T=()=>R.get("/resources/wallpapers"),G=""+new URL("preview-default.a9153e88.png",import.meta.url).href;const K={},P={class:"button"};function X(s,d){return a(),o("div",P,[B(s.$slots,"default",{},void 0,!0)])}const H=w(K,[["render",X],["__scopeId","data-v-d25bfd69"]]),J=s=>(x("data-v-00943398"),s=s(),S(),s),Q={class:"select__content"},Y=J(()=>n("span",{class:"iconfont icon-xiangxia"},null,-1)),Z=["onClick"],ee=V({__name:"select",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(s,{emit:d}){const v=i=>{d("update:modelValue",i.value),l.value=!1},l=b(!1),f=z(),r=N(f,()=>{l.value=!1});return j(()=>{r==null||r()}),(i,g)=>(a(),o("div",{class:"select",onClick:g[0]||(g[0]=u=>l.value=!m(l))},[n("span",Q,y(i.modelValue),1),Y,m(l)?(a(),o("div",{key:0,class:"option-list",ref_key:"listRef",ref:f},[(a(!0),o(p,null,$(i.options,u=>(a(),o("div",{class:A(["option-item",{active:u.value===i.modelValue}]),onClick:M(e=>v(u),["stop"])},y(u.label),11,Z))),256))],512)):E("",!0)]))}});const se=w(ee,[["__scopeId","data-v-00943398"]]),C=s=>(x("data-v-1f179155"),s=s(),S(),s),te={class:"preview"},ae=["src"],oe=C(()=>n("img",{class:"default-img",src:G,alt:""},null,-1)),le=C(()=>n("div",{class:"item-title"},"\u80CC\u666F",-1)),ne=C(()=>n("div",{class:"item-title"},"\u9009\u62E9\u56FE\u7247",-1)),ce={class:"wallpaper-list"},ie=["onClick"],ue=["src"],re={key:1,class:"item-title"},de=V({__name:"personalization-background",setup(s){const d=U(),v=O(d,"user"),l=b("\u56FE\u7247"),f=[{label:"\u56FE\u7247",value:"\u56FE\u7247"},{label:"\u7EAF\u8272",value:"\u7EAF\u8272"}],r=W([]);(async()=>{var t;const e=await T();(t=e==null?void 0:e.data)!=null&&t.wallpapers&&r.push(...e.data.wallpapers)})();const i=async e=>{await u(e)},g=async e=>{await u(e)},u=async e=>{var c;const t=await I({wallpaper:e}),_=(c=t==null?void 0:t.data)==null?void 0:c.user;_&&d.setUser(_)};return(e,t)=>{var _;return a(),o(p,null,[n("div",te,[n("img",{class:"preview-img",src:(_=v.value)==null?void 0:_.wallpaper,alt:""},null,8,ae),oe]),le,h(se,{modelValue:m(l),"onUpdate:modelValue":t[0]||(t[0]=c=>q(l)?l.value=c:null),options:f},null,8,["modelValue"]),m(l)==="\u56FE\u7247"?(a(),o(p,{key:0},[ne,n("div",ce,[(a(!0),o(p,null,$(m(r),c=>{var k;return a(),o(p,null,[c!==((k=v.value)==null?void 0:k.wallpaper)?(a(),o("div",{key:0,class:"wallpaper-item",onClick:_e=>i(c)},[n("img",{src:c,alt:"",class:"wallpaper-img"},null,8,ue)],8,ie)):E("",!0)],64)}),256))]),h(L,{onChange:g,accept:".png,.jpg,jpeg,svg"},{default:F(()=>[h(H,{onClick:t[1]||(t[1]=()=>{})},{default:F(()=>[D("\u6D4F\u89C8")]),_:1})]),_:1})],64)):(a(),o("div",re,"\u9009\u62E9\u4F60\u7684\u80CC\u666F\u8272"))],64)}}});const ge=w(de,[["__scopeId","data-v-1f179155"]]);export{ge as default};
